{% extends "_master.html" %}

{% block main %}

<div class="container-fluid">
    <div class="row">
        <div class="d-flex justify-content-end">
            <button id="raspi-cam-1" class="btn btn-primary raspi-cm-viewer">View All Captures</button>
        </div>
    </div>
    <div class="row">
        <div class="col-8">
            <div class="card text-bg-dark">
                <!-- Display Latest Image -->
                <img id="latest-image" src="{{ latest }}" class="card-img" alt="">
                <div class="card-img-overlay">
                    <p class="card-text"><small>ðŸ”´ Live</small></p>
                </div>
            </div>
        </div>
        <div class="col-4">
            <div class="card text-center">
                <div class="card-header">
                    Featured
                </div>
                <div class="card-body">
                    <h5 class="card-title">Special title treatment</h5>
                    <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                    <button id="raspi-cam-3" class="btn btn-primary raspi-cm-viewer">Go somewhere</button>
                </div>
                <div class="card-footer text-muted">
                    2 days ago
                </div>
            </div>
        </div>
    </div>
    
    <!-- Image Viewer Gallery -->
    <div id="image-viewer" class="mt-3">
        <div class="row">
            <div class="col-12">
                <div id="image-carousel" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        {% for image in images %}
                        <div class="carousel-item {% if loop.first %} active {% endif %}">
                            <img src="{{ image['url'] }}" class="d-block w-100" alt="Image {{ loop.index }}">
                        </div>
                        {% endfor %}
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#image-carousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#image-carousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Hidden list for images -->
<ul id="images" style="display: none;">
    {% for image in images %}
    <li><img src="{{ image['url'] }}" alt="Image {{ loop.index }}"></li>
    {% endfor %}
</ul>




{% endblock %}
